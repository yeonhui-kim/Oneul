<!DOCTYPE html>
<html 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="/inc/layout">

<head>
    <meta charset="UTF-8">
    <title>gratitudeDiary reg</title>
	<link href="/css/diary/modal.css" type="text/css" rel="stylesheet">
	<link href="/css/diary/gratitudeDiary/reg.css" type="text/css" rel="stylesheet">
    <script src='/js/modal/modal.js'></script>
    <script>
    function submitBtnClick(){
    	const form = document.querySelector(".form");

    	const dateInput = document.querySelector("input[type='date']");
    	
    	let date = dateInput.value;
    	let emotion = document.querySelector("#emotion").classList.value;
    	
    	console.log(date);
    	console.log(emotion);
    	if(date==""){
    		alert("날짜를 선택해주세요.");
    	}else if(emotion==""){
    		alert("감정을 선택해주세요.");
    	}else{
    		form.submit();	
    	}
    }	
    </script>
</head>

	
<!-- ----------------main부분------------------- -->
	<main id="main" layout:fragment="main">
		<section class="wrapper">
			<form class="form" action="/diary/gratitudeDiary/reg" method="post" enctype="multipart/form-data">
				
				<div class="date">
					<label>오늘의 날짜를 선택해주세요</label>
					<input type="date" name="regDate">
				</div>
				
				
				<div class="emotion-box">
					<label>지금 당신의 감정을 알려주세요</label>
					<div id="emotion"></div>
					<button id="open-button" type="button">감정 선택</button> 
					<div th:replace="inc/modal::modal"></div>
				</div>
				
				<div class="pub">
					<label>공개</label>
					<input type="radio" value="true" name="pub">
					<label class="pub-label">비공개</label>
					<input type="radio" value="false" name="pub" checked>
				</div>
				
				<div class="contents">
					<label class="content-label">오늘하루 감사한 일들을 적어보세요</label>
					<div class="question">오늘의 감사한 일 :  </div>
					<textarea rows="5" cols="45" name="content1"></textarea>
					<div class="question">오늘 나에게 일어난 멋진 일 : </div>
					<textarea rows="5" cols="45" name="content2"></textarea>
					<div class="question">나를 위한 긍정의 한 줄! :</div>
					<textarea rows="5" cols="45" name="content3"></textarea>
				</div>
	
			</form>
			
				<div class="buttons">
				    <button class="button" type="button" onclick="submitBtnClick()">저장</button>
					<button type="button" class="button" onclick="location.href='list';">취소</button> 
				</div>
		</section>
	</main>

</html>